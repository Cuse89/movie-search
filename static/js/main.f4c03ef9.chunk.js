(this["webpackJsonpmovie-search"]=this["webpackJsonpmovie-search"]||[]).push([[0],{11:function(e,t,a){e.exports={root:"Pagination_root__3lGdY",leftArrow:"Pagination_leftArrow__2eMcd",rightArrow:"Pagination_rightArrow__2ExW5"}},13:function(e,t,a){e.exports={root:"InputForm_root__3bnSa",submit:"InputForm_submit__Dtu_C"}},15:function(e,t,a){e.exports={goBack:"withGoBack_goBack__1_R3d",goBackText:"withGoBack_goBackText__3dGnk"}},16:function(e,t,a){e.exports={root:"MoviePage_root__UNp6Z",link:"MoviePage_link__1uF9w"}},19:function(e,t,a){e.exports={root:"Header_root__uYivO",title:"Header_title__3s_xf"}},24:function(e,t,a){e.exports={root:"MovieItem_root__cYwCf"}},26:function(e,t,a){e.exports={root:"SearchPage_root__uMsEA"}},30:function(e,t,a){e.exports=a(44)},35:function(e,t,a){},44:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(23),c=a.n(r),l=(a(35),a(5)),i=a(4),s=a(1),u=a(20),m=function(e){var t=window.location.search;return new URLSearchParams(t).get(e)},h="https://api.themoviedb.org/3/",g="c9699c83834bc31ef87390d9331e4c96",f="ready",v="fetching",p="complete",d=function(){var e=Object(n.useState)([]),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)({page:m("page")||1,totalPages:0,totalResults:0}),c=Object(s.a)(r,2),l=c[0],i=c[1],u=Object(n.useState)(f),v=Object(s.a)(u,2),d=v[0],E=v[1],_=Object(n.useState)(!1),b=Object(s.a)(_,2),w=b[0],P=b[1];return{movies:a,getMovies:function(e){var t,a=(t=e,Object.keys(t).map((function(e){return"".concat(e,"=").concat(t[e])})).join("&")),n="".concat(h,"search/movie?api_key=").concat(g,"&").concat(a);E("fetching"),fetch(n).then((function(e){return e.json()})).then((function(e){!function(e){var t=e.results,a=e.page,n=e.total_results,r=e.total_pages;t.length>0?o(function(e){return e.map((function(e){return{id:e.id,title:e.title}}))}(t)):o([]),i({page:a,totalPages:r,totalResults:n})}(e),E(p)})).catch((function(e){E(p),P(!0)}))},pagination:l,fetchStatus:d,hasError:w}},E=a(13),_=a.n(E),b=function(e){var t=e.inputType,a=e.placeholder,r=e.autoComplete,c=e.onChange,l=e.onSubmit,i=e.submitText,u=e.validateInput,m=e.label,h=Object(n.useState)(""),g=Object(s.a)(h,2),f=g[0],v=g[1],p=u(f);return o.a.createElement("form",{className:_.a.root,onSubmit:function(e){e.preventDefault(),l&&(l(f),v(""))}},m&&o.a.createElement("label",null,m),o.a.createElement("input",{type:t,onChange:function(e){e.preventDefault(),c(e.target.value),v(e.target.value)},placeholder:a,value:f,autoComplete:r}),l&&p&&o.a.createElement("input",{className:_.a.submit,type:"submit",value:i,disabled:!p}))};b.defaultProps={inputType:"text",placeholder:"",autoComplete:"off",onChange:function(){},submitText:"Submit",validateInput:function(){return!0},label:""};var w=b,P=a(7),k=a(8),O=a(11),j=a.n(O),x=function(e){var t=e.page,a=e.onPreviousPageClick,n=e.onNextPageClick,r=e.totalPages;return o.a.createElement("div",{className:j.a.root},t>1&&o.a.createElement(P.FontAwesomeIcon,{className:j.a.leftArrow,icon:k.a,onClick:a}),"Page ",t," out of ",r,t<r&&o.a.createElement(P.FontAwesomeIcon,{className:j.a.rightArrow,icon:k.b,onClick:n}))},C=function(e){var t=e.className,a=e.results,n=e.resultItem,r=e.onPaginationChange,c=e.resultsPerPage,l=e.totalResults,i=e.totalPages,s=e.page,u=e.noResultsText,m=e.hasError,h=e.errorMessage,g=c&&a.length<l,f=o.a.createElement(x,{onPreviousPageClick:function(){r(s-1)},onNextPageClick:function(){r(s+1)},page:s,totalPages:i}),v=u&&0===a.length&&!m,p=m&&h;return o.a.createElement("div",{className:t},g&&f,a.length>0&&function(){for(var e=[],t=a.length<c?a.length:c,o=0;o<t;o++)e.push(n(a[o]));return e}(),g&&f,v&&o.a.createElement("h3",null,u),p&&o.a.createElement("h3",null,h))};C.defaultProps={results:[],onPaginationChange:function(){},resultsPerPage:10,noResultsText:"No results",errorMessage:"An error has occurred."};var N=C,S=a(24),y=a.n(S),T=Object(n.memo)((function(e){var t=e.id,a=e.title,n=e.onClick;return o.a.createElement("div",{className:y.a.root,onClick:function(){return n(t)}},a)})),B=a(25),F=a(14),M=a.n(F),I=a(9),A=a.n(I),R=function(e){var t=e.show,a=e.size,r=e.color,c=e.isContained,l=e.delay,i=e.children,u=Object(n.useState)(l>0),m=Object(s.a)(u,2),h=m[0],g=m[1],f=M()([A.a.image],[A.a[a]],[A.a[r]]);return Object(n.useEffect)((function(){var e=!0;return t&&l>0&&setTimeout((function(){e&&g(!1)}),l),function(){return e=!1}}),[l,t]),t&&!h?o.a.createElement("div",{className:M()(Object(B.a)({},A.a.contained,c))},o.a.createElement("img",{className:f,src:"/tail-spin.svg",alt:"loader"})):i};R.defaultProps={size:"medium",color:"darkBlue",isContained:!1,delay:500};var L=R,z=a(26),G=a.n(z),Y=function(e){var t=e.history,a=d(),r=a.getMovies,c=a.movies,l=a.pagination,i=a.fetchStatus,m=a.hasError,h=l.totalResults,g=l.totalPages,f=Object(u.a)("query",""),E=Object(s.a)(f,2),_=E[0],b=E[1],P=Object(u.a)("page",1),k=Object(s.a)(P,2),O=k[0],j=k[1];console.log("movies",c),Object(n.useEffect)((function(){_&&r({query:_,page:O})}),[_,O]);var x=function(e){t.push("./movie/".concat(e))},C=_&&c.length>0;return o.a.createElement("div",{className:G.a.root},o.a.createElement(w,{placeholder:"Search for a movie...",onChange:function(e){j(1),b(e)}}),_&&o.a.createElement(L,{show:i===v},i===p&&o.a.createElement(n.Fragment,null,C&&o.a.createElement("h3",null,"Showing Movies: ",_),o.a.createElement(N,{results:c,resultItem:function(e){var t=e.id,a=e.title;return o.a.createElement(T,{key:"movieItem".concat(t),id:t,title:a,onClick:x})},page:O,resultsPerPage:20,onPaginationChange:j,totalResults:h,totalPages:g,noResultsText:"No movies found.",hasError:m,errorMessage:"Oops something went wrong, please try again."}))))},D={small:100,medium:200,large:300},U=function(e){var t=e.path,a=e.size;return o.a.createElement(n.Fragment,null,o.a.createElement("img",{src:"https://image.tmdb.org/t/p/w".concat(D[a],"/").concat(t)}))};U.defaultProps={size:"medium"};var W=U,q=function(e){var t=e.title,a=e.overview,r=e.posterPath;return o.a.createElement(n.Fragment,null,t&&o.a.createElement(n.Fragment,null,o.a.createElement("h3",null,"Title:"),t),a&&o.a.createElement(n.Fragment,null,o.a.createElement("h3",null,"About:"),a),r&&o.a.createElement(n.Fragment,null,o.a.createElement("h3",null,"Image:"),o.a.createElement(W,{path:r})))};q.defaultProps={title:"",overview:"",posterPath:""};var H=q,J=a(29),V=a(15),K=a.n(V),X=function(e){var t=e.withText,a=e.className,n=Object(J.a)(e,["withText","className"]);return function(e){return function(r){var c=r.history;return o.a.createElement("div",{className:a},o.a.createElement("div",{className:K.a.goBack,onClick:function(){return c.goBack()}},o.a.createElement(P.FontAwesomeIcon,{icon:k.a,size:"1x"}),t&&o.a.createElement("p",{className:K.a.goBackText},"Go back")),o.a.createElement(e,n))}}};X.defaultProps={withText:!1};var Z=X,$=function(){var e=Object(n.useState)({}),t=Object(s.a)(e,2),a=t[0],o=t[1],r=Object(n.useState)(f),c=Object(s.a)(r,2),l=c[0],i=c[1],u=Object(n.useState)(!1),m=Object(s.a)(u,2),d=m[0],E=m[1],_=Object(n.useState)(!1),b=Object(s.a)(_,2),w=b[0],P=b[1];return{movie:a,getMovie:function(e){var t="".concat(h,"movie/").concat(e,"?api_key=").concat(g);i(v),fetch(t).then((function(e){return e.json()})).then((function(e){i(p),34===e.status_code&&P(!0),function(e){o(function(e){return{title:e.title,overview:e.overview,posterPath:e.poster_path}}(e))}(e)})).catch((function(e){i(p),E(!0)}))},fetchStatus:l,hasError:d,notFound:w}},Q=a(16),ee=a.n(Q),te=Z({withText:!0,className:ee.a.root})((function(){var e=Object(i.g)(),t=Object(i.h)().id,a=$(),r=a.movie,c=a.getMovie,l=a.fetchStatus,s=a.hasError,u=a.notFound,m=r.overview,h=r.posterPath,g=r.title;return Object(n.useEffect)((function(){c(t)}),[t]),o.a.createElement(L,{show:l===v},l===p&&o.a.createElement(H,{overview:m,posterPath:h,title:g}),s&&o.a.createElement("h3",null,"There was an error, please try again."),u&&o.a.createElement("h3",null,"Movie not found. Click",o.a.createElement("span",{className:ee.a.link,onClick:function(){return e.goBack()}}," here")," to go back"))})),ae=a(19),ne=a.n(ae),oe=function(){return o.a.createElement("div",{className:ne.a.root},o.a.createElement(l.b,{to:"/search"},o.a.createElement("h1",{className:ne.a.title},"Movie Universe")))},re=function(){return o.a.createElement(n.Fragment,null,"Oops this page doesn't exist. Click ",o.a.createElement(l.b,{to:"./"}," here ")," to go to the homepage.")},ce=function(){return o.a.createElement("div",null,o.a.createElement(l.a,null,o.a.createElement(oe,null),o.a.createElement(i.d,null,o.a.createElement(i.b,{exact:!0,path:"/",render:function(){return o.a.createElement(i.a,{to:"/search"})}}),o.a.createElement(i.b,{exact:!0,path:"/movie-search",render:function(){return o.a.createElement(i.a,{to:"/search"})}}),o.a.createElement(i.b,{path:"/search",component:Y}),o.a.createElement(i.b,{path:"/movie/:id",component:te}),o.a.createElement(i.b,{component:re}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(o.a.createElement(ce,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},9:function(e,t,a){e.exports={contained:"Loader_contained__3xlTO",image:"Loader_image__1z8IK",blue:"Loader_blue__1dP5O",darkBlue:"Loader_darkBlue__OjVYV",small:"Loader_small__226zT",medium:"Loader_medium__2mexX",large:"Loader_large__3CeB9"}}},[[30,1,2]]]);
//# sourceMappingURL=main.f4c03ef9.chunk.js.map